<app-menu></app-menu>
<section class="mt-5">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                aria-selected="true" style="color: mediumblue;">
                <h4 id="alien">Resultados</h4>
            </a>
        </li>
    </ul>

    <div class="tab-content" id="myTabContent"  >
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="container-fluid rounded mt-3 shadow ">
                <div class="row">
                    <span *ngFor="let producto of productos; let i=index">
                        <div class="col-sm"  align="center" >
                            <span align="center">
                                <div class="tarjeta-wrap pr-4" >
                                    <div class="tarjeta" >
                                        <div class="adelante"
                                            style="background-size: cover; background-image: url({{producto.url_prod}});"></div>
                                        <div class="atras">
                                            <ul style="padding: 10px;" class="text-center">
                                                <h6>{{producto.nombre_prod}}</h6>
                                                <br>
                                                    <p [style.color]="'white'" class="text-center"><b>$ {{producto.precio_prod}}</b></p>
                                                    <p *ngIf="producto.desc_prod !='Sin descripcion'">{{producto.desc_prod}}</p>
                                                <br>
                                                <br>
                                                <div class="form-group" style="margin-top: 50px;" *ngIf="level=='U'">
                                                    <div *ngIf="existe(producto)" class="text-success text-center"> <h4>!!Ya en tu carrito!!</h4></div>
                                                    <div *ngIf="!existe(producto)"><button type="submit" (click)="tmpCarrito(producto)" class="btn btn-primary btn-xs" data-toggle='modal' data-target='#confirmarProducto'><i
                                                            class="fas fa-credit-card" ></i> AÃ±adir</button></div>
                                                </div>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </span>
                        </div>
                    </span>
                </div><br><br><br>
            </div>
        </div>
    </div>
    <br>
    <br>

    </section>

  <!-- Modal Para Nuevo Producto -->
<div class="modal fade" id="confirmarProducto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title text-center" id="exampleModalLongTitle">Agregar a Carrito</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <div class="input-group-text">Producto:</div>
                </div>
                <input type="text"  class="form-control" id="tmpnomProd"
                    [(ngModel)]="tmpProd.nombre_prod" disabled>
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <div class="input-group-text" >Precio c/u:</div>
                </div>
                <input type="text" class="form-control" id="tmpprecioProd"
                    [(ngModel)]="tmpProd.precio_prod" disabled>
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <div class="input-group-text">Piezas:</div>
                </div>
                <input type="number" min="1" max="5" class="form-control" id="piezasProd" value="1"placeholder="Piezas"
                    [(ngModel)]="piezas">
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal"
                (click)="agregarCarrito()">Agregar a carrito</button>
        </div>
    </div>
</div>
</div>